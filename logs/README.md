# Logs Directory

Auto-generated logs from all workflow operations (verify, build, run).

## Purpose

Comprehensive audit trail of all operations with timestamped markdown logs. Clean format (ANSI codes stripped) for easy reading and searching.

## Directory Structure

```
logs/
â”œâ”€â”€ verify-host/                    # Host verification runs
â”‚   â””â”€â”€ <timestamp>/               # One directory per run
â”‚       â”œâ”€â”€ 01-check-display.md
â”‚       â”œâ”€â”€ 02-check-x11.md
â”‚       â”œâ”€â”€ 03-check-xhost.md
â”‚       â”œâ”€â”€ 04-check-docker.md
â”‚       â”œâ”€â”€ 05-check-nvidia-gpu.md
â”‚       â”œâ”€â”€ 06-check-nvidia-runtime.md
â”‚       â”œâ”€â”€ 07-enable-persistence-mode.md
â”‚       â””â”€â”€ summary.md             # Links to all checks
â”œâ”€â”€ docker-builds/                  # Docker build outputs
â”‚   â””â”€â”€ build-*.md                 # One file per build
â””â”€â”€ container-sessions/             # Container sessions
    â””â”€â”€ session-*.md               # One file per session
```

## Generated By

| Directory | Script | When |
|-----------|--------|------|
| `verify-host/` | `./scripts/verify-host.sh` | Before building |
| `docker-builds/` | `./scripts/build.sh` | When building image |
| `container-sessions/` | `./scripts/run.sh` | When running container |

## Quick Commands

### View Latest Logs
```bash
# Latest verification summary
cat $(ls -t logs/verify-host/*/summary.md | head -1)

# Latest build
cat $(ls -t logs/docker-builds/*.md | head -1)

# Latest session
cat $(ls -t logs/container-sessions/*.md | head -1)
```

### Search Logs
```bash
# Find errors in verification
grep -i "error" logs/verify-host/*/0*.md

# Find errors in builds
grep -i "error\|failed" logs/docker-builds/*.md

# Find NVIDIA info in sessions
grep -i "nvidia" logs/container-sessions/*.md
```

### Cleanup
```bash
# Delete logs older than 30 days
find logs -name "*.md" ! -name "README.md" -mtime +30 -delete

# Keep only 10 most recent of each type
ls -t logs/verify-host/*/ -d | tail -n +11 | xargs rm -rf
ls -t logs/docker-builds/*.md | tail -n +11 | xargs rm -f
ls -t logs/container-sessions/*.md | tail -n +11 | xargs rm -f
```

## Detailed Documentation

- [verify-host/README.md](verify-host/README.md) - Host verification logs
- [docker-builds/README.md](docker-builds/README.md) - Docker build logs
- [container-sessions/README.md](container-sessions/README.md) - Container session logs

## Git Configuration

Logs are gitignored but documentation (README.md files) are tracked:

**.gitignore:**
```gitignore
# Ignore timestamped logs
logs/verify-host/20*/
logs/docker-builds/build-*.md
logs/container-sessions/session-*.md

# Keep documentation
!logs/README.md
!logs/*/README.md
```

## Benefits

- ğŸ“ **Complete Audit Trail** - Never lose track of what happened
- ğŸ› **Debug After the Fact** - Review issues without reproducing
- ğŸ“š **Automatic Documentation** - No manual record keeping needed
- ğŸ” **Searchable History** - Find specific commands or outputs
- âœ… **Clean Format** - Markdown, no ANSI escape codes
